error handling isn't really well done
index.js is total spaghetti
log errors to errors.csv